<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Expense - SpendTrackr</title>
  <link rel="stylesheet" href="../css/style.css">
</head>
<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-logo"> SpendTrackr</div>
      <nav>
        <a href="dashboard.html">Dashboard</a>
        <a href="add-expense.html" class="active">Add Expense</a>
        <a href="categories.html">Categories</a>
        <a href="split-expenses.html">Split Expenses</a>
        <a href="budget.html">Budget</a>
        <a href="recurring.html">Recurring</a>
        <a href="receipts.html">Receipts</a>
        <a href="reports.html">Reports</a>
        <a href="settings.html">Settings</a>
        <a href="login.html">Logout</a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <div class="topbar">
        <h2>Add New Expense</h2>
      </div>

      <div class="dashboard">
        <form class="form-container">
          <label for="amount">Amount</label>
          <input type="number" id="amount" name="amount" placeholder="Enter amount" required>

          <label for="category">Category</label>
          <select id="category" name="category" required>
            <option value="" disabled selected>Select category</option>
            <option value="Food">Food</option>
            <option value="Travel">Travel</option>
            <option value="Shopping">Shopping</option>
            <option value="Bills">Bills</option>
            <option value="Entertainment">Entertainment</option>
          </select>

          <label for="date">Date</label>
          <input type="date" id="date" name="date" required>

          <label for="notes">Notes</label>
          <input type="text" id="notes" name="notes" placeholder="Optional notes">

          <button type="submit">Save Expense</button>
        </form>
      </div>
    </main>
  </div>
  <script>
  const API_URL = "http://localhost:5000/api/expenses";

  document.querySelector("form").addEventListener("submit", async (e) => {
    e.preventDefault();

    const title = document.getElementById("title").value;
    const amount = document.getElementById("amount").value;
    const category = document.getElementById("category").value;
    const date = document.getElementById("date").value;

    const response = await fetch(API_URL, {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ title, amount, category, date })
    });

    const data = await response.json();
    alert("âœ… " + data.message);
  });
</script>

</body>
</html>
